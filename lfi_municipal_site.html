<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste Municipale LFI - Notre Ville</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Marianne', 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #C9462C 0%, #8B1538 50%, #2E1065 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 4px solid #C9462C;
        }

        nav {
            padding: 1rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #C9462C;
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .logo .phi-symbol {
            background: linear-gradient(45deg, #C9462C, #8B1538);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #C9462C;
        }

        .admin-btn {
            background: linear-gradient(45deg, #C9462C, #8B1538);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 0.5px;
        }

        .admin-btn:hover {
            background: linear-gradient(45deg, #8B1538, #2E1065);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(201, 70, 44, 0.4);
        }

        /* Main Content */
        main {
            padding: 2rem 0;
        }

        .hero {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .hero h1 {
            font-size: 3rem;
            color: #C9462C;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hero .subtitle {
            font-size: 1.4rem;
            color: #8B1538;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .hero p {
            font-size: 1.2rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* Articles */
        .article {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }

        .article h2 {
            color: #C9462C;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .article h3 {
            color: #8B1538;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }

        .article-meta {
            color: #999;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .article img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin: 1rem 0;
        }

        /* Media Grid */
        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .media-item {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            transition: transform 0.3s;
        }

        .media-item:hover {
            transform: translateY(-5px);
        }

        .media-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        /* Social Links */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #C9462C, #8B1538);
            color: white;
            text-decoration: none;
            border-radius: 50%;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .social-links a:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(201, 70, 44, 0.4);
            background: linear-gradient(45deg, #8B1538, #2E1065);
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
        }

        .login-form {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 3rem;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .login-form h2 {
            color: #C9462C;
            margin-bottom: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .login-form .lfi-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #C9462C, #8B1538);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            font-weight: bold;
        }

        .error-message {
            background: #ff6b6b;
            color: white;
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }

        .admin-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 15px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .admin-form {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #C9462C;
            box-shadow: 0 0 0 3px rgba(201, 70, 44, 0.1);
        }

        .form-group textarea {
            height: 120px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(45deg, #C9462C, #8B1538);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            margin-right: 1rem;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            background: linear-gradient(45deg, #8B1538, #2E1065);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(201, 70, 44, 0.4);
        }

        .btn-secondary {
            background: #95a5a6;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        /* Footer */
        footer {
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .hero {
                padding: 2rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .article {
            animation: fadeInUp 0.6s ease-out;
        }

        .media-item {
            animation: fadeInUp 0.6s ease-out;
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">
                <div class="phi-symbol">Φ</div>
                La France Insoumise - Notre Ville
            </div>
            <ul class="nav-links">
                <li><a href="#accueil">Accueil</a></li>
                <li><a href="#actualites">Actualités</a></li>
                <li><a href="#programme">Programme</a></li>
                <li><a href="#equipe">Équipe</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <a class="admin-btn" href="/admin/request">
                <i class="fas fa-edit"></i> Administration
            </a>
        </nav>
    </header>

    <main class="container">
        <section class="hero" id="accueil">
            <div class="lfi-logo" style="width: 120px; height: 120px; background: linear-gradient(45deg, #C9462C, #8B1538); border-radius: 50%; margin: 0 auto 2rem; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; font-weight: bold;">Φ</div>
            <h1>L'Avenir en Commun</h1>
            <div class="subtitle">Pour Notre Ville</div>
            <p>Notre liste municipale La France Insoumise s'engage pour une transformation sociale et écologique de notre commune. Ensemble, construisons l'avenir que nous méritons tous.</p>
        </section>

        <div class="content-grid">
            <div class="main-content">
                <section id="actualites">
                    <h2><i class="fas fa-newspaper"></i> Dernières actualités</h2>
                    <div id="articles-container">
                        <article class="article">
                            <h3>Réunion publique : Notre vision pour 2026</h3>
                            <div class="article-meta">
                                <i class="fas fa-calendar"></i> 15 septembre 2025 | 
                                <i class="fas fa-user"></i> Équipe de campagne
                            </div>
                            <img src="https://images.unsplash.com/photo-1577962917302-cd874c4e31d2?w=800&h=400&fit=crop" alt="Réunion publique">
                            <p>Venez nombreux à notre prochaine réunion publique le 25 septembre à 19h30 à la salle des fêtes. Nous présenterons notre programme détaillé et répondrons à toutes vos questions. Entrée libre et gratuite.</p>
                        </article>

                        <article class="article">
                            <h3>Transport public gratuit : notre engagement</h3>
                            <div class="article-meta">
                                <i class="fas fa-calendar"></i> 10 septembre 2025 | 
                                <i class="fas fa-user"></i> Commission Transport
                            </div>
                            <img src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=400&fit=crop" alt="Transport public">
                            <p>La gratuité des transports en commun est au cœur de notre projet. Une mesure écologique et sociale qui permettra à tous les citoyens de se déplacer librement dans notre ville.</p>
                        </article>
                    </div>
                </section>

                <section id="medias" style="margin-top: 3rem;">
                    <h2><i class="fas fa-images"></i> Galerie média</h2>
                    <div class="media-grid" id="media-container">
                        <div class="media-item">
                            <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&h=300&fit=crop" alt="Événement 1">
                            <h4>Marche pour le climat</h4>
                            <p>500 participants mobilisés</p>
                        </div>
                        <div class="media-item">
                            <img src="https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=400&h=300&fit=crop" alt="Événement 2">
                            <h4>Forum des associations</h4>
                            <p>Rencontre citoyenne</p>
                        </div>
                        <div class="media-item">
                            <img src="https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?w=400&h=300&fit=crop" alt="Événement 3">
                            <h4>Débat public</h4>
                            <p>Démocratie participative</p>
                        </div>
                    </div>
                </section>
            </div>

            <div class="sidebar">
                <h3><i class="fas fa-bullhorn"></i> Nos 6 piliers</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 0.8rem 0; border-bottom: 1px solid #eee;"><i class="fas fa-leaf" style="color: #27ae60; margin-right: 10px;"></i><strong>Urgence écologique</strong><br><small>Transition énergétique et protection de l'environnement</small></li>
                    <li style="padding: 0.8rem 0; border-bottom: 1px solid #eee;"><i class="fas fa-balance-scale" style="color: #C9462C; margin-right: 10px;"></i><strong>Justice sociale</strong><br><small>Égalité des droits et lutte contre les inégalités</small></li>
                    <li style="padding: 0.8rem 0; border-bottom: 1px solid #eee;"><i class="fas fa-users" style="color: #3498db; margin-right: 10px;"></i><strong>Démocratie participative</strong><br><small>Citoyens au cœur des décisions</small></li>
                    <li style="padding: 0.8rem 0; border-bottom: 1px solid #eee;"><i class="fas fa-home" style="color: #e67e22; margin-right: 10px;"></i><strong>Services publics</strong><br><small>Accessibles et de qualité pour tous</small></li>
                    <li style="padding: 0.8rem 0; border-bottom: 1px solid #eee;"><i class="fas fa-globe-europe" style="color: #9b59b6; margin-right: 10px;"></i><strong>République universelle</strong><br><small>Laïcité et solidarité internationale</small></li>
                    <li style="padding: 0.8rem 0;"><i class="fas fa-fist-raised" style="color: #8B1538; margin-right: 10px;"></i><strong>Souveraineté populaire</strong><br><small>Le peuple décide de son avenir</small></li>
                </ul>

                <h3 style="margin-top: 2rem;"><i class="fas fa-share-alt"></i> Suivez-nous</h3>
                <div class="social-links">
                    <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
                </div>

                <div style="margin-top: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 10px;">
                    <h4><i class="fas fa-envelope"></i> Contact</h4>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Rue de la République<br>75001 Notre Ville</p>
                    <p><i class="fas fa-phone"></i> 01 23 45 67 89</p>
                    <p><i class="fas fa-envelope"></i> contact@lfi-notreville.fr</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="container">
        <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 1rem;">
            <div class="phi-symbol" style="width: 40px; height: 40px;">Φ</div>
            <span style="font-weight: bold; color: #C9462C;">La France Insoumise - Notre Ville</span>
        </div>
        <p>&copy; 2025 Liste Municipale LFI - Notre Ville. L'Avenir en Commun.</p>
        <div class="social-links" style="margin-top: 1rem;">
            <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
    </footer>

    <!-- Administration removed: use backend /admin/request for admin actions -->

    <script>
    // Configuration de sécurité
    // L'administration est maintenant gérée côté serveur (/admin/request).

    // État de l'application
        let articles = [
            {
                title: "L'Avenir en Commun pour Notre Ville",
                author: "Équipe de campagne LFI",
                date: "18 septembre 2025",
                image: "https://images.unsplash.com/photo-1577962917302-cd874c4e31d2?w=800&h=400&fit=crop",
                content: "Notre programme municipal s'inspire directement de l'Avenir en Commun. Nous proposons une transformation écologique et sociale de notre commune, avec la gratuité des transports, le développement des services publics et une démocratie participative renforcée."
            },
            {
                title: "Planification écologique municipale",
                author: "Commission Écologie LFI",
                date: "15 septembre 2025",
                image: "https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=400&fit=crop",
                content: "Face à l'urgence climatique, nous proposons un plan de transition écologique ambitieux : isolation thermique des bâtiments publics, développement des énergies renouvelables, protection de la biodiversité et agriculture urbaine."
            }
        ];

        let mediaItems = [
            {
                title: "Marche pour le climat",
                description: "Mobilisation citoyenne LFI",
                image: "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=400&h=300&fit=crop"
            },
            {
                title: "Assemblée citoyenne",
                description: "Démocratie participative",
                image: "https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=400&h=300&fit=crop"
            },
            {
                title: "L'Avenir en Commun",
                description: "Présentation du programme",
                image: "https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?w=400&h=300&fit=crop"
            }
        ];

        let socialLinks = {
            facebook: "https://facebook.com/lafranceinsoumise",
            twitter: "https://twitter.com/lafranceinsoumise",
            instagram: "https://instagram.com/lafranceinsoumise",
            youtube: "https://youtube.com/lafranceinsoumise"
        };
        // Helpers: échappement et validation
        function escapeHtml(str) {
            if (str === undefined || str === null) return '';
            return String(str)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
        }

        function isSafeUrl(url) {
            if (!url) return false;
            try {
                const u = new URL(url, location.href);
                return u.protocol === 'http:' || u.protocol === 'https:';
            } catch (e) {
                return false;
            }
        }

        // Administration is handled by the backend at /admin/request

        function formatDate(date) {
            return new Date(date).toLocaleDateString('fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Rendu sécurisé des articles et médias (évite innerHTML non échappé)
        function renderArticles() {
            const container = document.getElementById('articles-container');
            container.innerHTML = '';
            articles.forEach(article => {
                const art = document.createElement('article');
                art.className = 'article';

                const h3 = document.createElement('h3');
                h3.textContent = article.title || '';

                const meta = document.createElement('div');
                meta.className = 'article-meta';
                meta.innerHTML = `<i class="fas fa-calendar"></i> ${escapeHtml(article.date)} | <i class="fas fa-user"></i> ${escapeHtml(article.author)}`;

                art.appendChild(h3);
                art.appendChild(meta);

                if (isSafeUrl(article.image)) {
                    const img = document.createElement('img');
                    img.src = article.image;
                    img.alt = article.title ? article.title : 'Article image';
                    art.appendChild(img);
                }

                const p = document.createElement('p');
                p.textContent = article.content || '';
                art.appendChild(p);

                container.appendChild(art);
            });
        }

        function renderMedia() {
            const container = document.getElementById('media-container');
            container.innerHTML = '';
            mediaItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'media-item';

                if (isSafeUrl(item.image)) {
                    const img = document.createElement('img');
                    img.src = item.image;
                    img.alt = item.title || 'Media image';
                    div.appendChild(img);
                }

                const h4 = document.createElement('h4');
                h4.textContent = item.title || '';
                const p = document.createElement('p');
                p.textContent = item.description || '';

                div.appendChild(h4);
                div.appendChild(p);
                container.appendChild(div);
            });
        }

        function updateSocialLinks() {
            const socialElements = document.querySelectorAll('.social-links a');
            const links = [socialLinks.facebook, socialLinks.twitter, socialLinks.instagram, socialLinks.youtube];
            socialElements.forEach((element, index) => {
                const url = links[index];
                if (url && url !== '#' && isSafeUrl(url)) {
                    element.href = url;
                    element.target = '_blank';
                    element.rel = 'noopener noreferrer';
                } else {
                    element.removeAttribute('href');
                }
            });
        }

        // Gestionnaires d'événements : attachés après DOMContentLoaded pour sécurité
        document.addEventListener('DOMContentLoaded', function() {
            // Admin functionality has been removed from client-side; use backend endpoints

            const articleForm = document.getElementById('articleForm');
            if (articleForm) {
                articleForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Note: this client-side admin UI was removed; ensure backend access control
                    const title = document.getElementById('articleTitle').value;
                    const author = document.getElementById('articleAuthor').value;
                    const image = document.getElementById('articleImage').value;
                    const content = document.getElementById('articleContent').value;
                    const newArticle = {
                        title: escapeHtml(title),
                        author: escapeHtml(author),
                        date: formatDate(new Date()),
                        image: isSafeUrl(image) ? image : '',
                        content: content // content rendered as textContent later
                    };
                    articles.unshift(newArticle);
                    renderArticles();
                    this.reset();
                    document.getElementById('articleAuthor').value = 'Équipe de campagne LFI';
                    alert('Article publié avec succès !');
                });
            }

            const mediaFormEl = document.getElementById('mediaForm');
            if (mediaFormEl) {
                mediaFormEl.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Note: this client-side admin UI was removed; ensure backend access control
                    const title = document.getElementById('mediaTitle').value;
                    const description = document.getElementById('mediaDescription').value;
                    const image = document.getElementById('mediaImage').value;
                    const newMedia = {
                        title: escapeHtml(title),
                        description: escapeHtml(description),
                        image: isSafeUrl(image) ? image : ''
                    };
                    mediaItems.push(newMedia);
                    renderMedia();
                    this.reset();
                    alert('Image ajoutée à la galerie avec succès !');
                });
            }

            const socialFormEl = document.getElementById('socialForm');
            if (socialFormEl) {
                socialFormEl.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // Note: this client-side admin UI was removed; ensure backend access control
                    const fb = document.getElementById('facebookUrl').value;
                    const tw = document.getElementById('twitterUrl').value;
                    const ig = document.getElementById('instagramUrl').value;
                    const yt = document.getElementById('youtubeUrl').value;
                    if (isSafeUrl(fb)) socialLinks.facebook = fb;
                    if (isSafeUrl(tw)) socialLinks.twitter = tw;
                    if (isSafeUrl(ig)) socialLinks.instagram = ig;
                    if (isSafeUrl(yt)) socialLinks.youtube = yt;
                    updateSocialLinks();
                    alert('Liens sociaux mis à jour avec succès !');
                });
            }

            // Smooth navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // adminPanel removed

            // Session timeout removed (server-side authentication is used)

            // Animation on scroll
            function animateOnScroll() {
                const elements = document.querySelectorAll('.article, .media-item');
                elements.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    const elementVisible = 150;
                    if (elementTop < window.innerHeight - elementVisible) {
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }
                });
            }
            window.addEventListener('scroll', animateOnScroll);

            // Initialisation
            renderArticles();
            renderMedia();
            updateSocialLinks();
            animateOnScroll();
        });
    </script>
</body>
</html>